<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>聊天室-文件</title>
    <link rel="stylesheet" href="css/css.css">
    <script src="js/jquery.min.js"></script>
</head>
<body>
<div class="char_out " id="file">
    <div class="hide_menu" id="down_file">
        <div class="cen"><p><img src="img/down.png" alt="">&nbsp;&nbsp;下载</p></div>
        <div class="cen"><p><img src="img/re_name.png" alt="">&nbsp;&nbsp;重命名</p></div>
        <div class="cen"><p><img src="img/copy_to.png" alt="">&nbsp;&nbsp;转发</p></div>
        <div class="cen"><p><img src="img/view.png" alt="">&nbsp;&nbsp;预览</p></div>
        <div class="cen"><p><img src="img/del.png" alt="">&nbsp;&nbsp;删除</p></div>
    </div>
    <div class="chat_top  outer ">
        <div class="chart_l fl "></div>
        <div class="chart_r  ">
            <div class="search_out fl ">
                <div class="search fl">
                    <img src="img/search.png" alt="">
                    <input type="text" class="fl">
                </div>
                <div class="search_btn fr">搜索</div>
            </div>
            <span class="cen_txt">ice</span>
            <div class="message fr ">
                <a href="index.html">
                    <div class="notice fl">
                        <img src="img/notice.png" alt="">
                        <div class="new_tip">
                            <div class="new_mes">
                                999+
                            </div>
                        </div>
                    </div>
                </a>
                <div class="menu fl" id="menu"><img src="img/menu_bar.png" alt=""></div>
            </div>
        </div>
        <div class="hide_menu" id="menu_hide">
            <div class="cen"><p><img src="img/to_top.png" alt="">&nbsp;&nbsp;置顶</p></div>
            <div class="cen"><p><img src="img/out.png" alt="">&nbsp;&nbsp;退出</p></div>
        </div>
    </div>
    <div class="chat_bot  outer">
        <div class="chart_l fl">
            <div class="menus_top">
                <a href="message.html">
                    <div class="menu_li ">
                        <p class="menu_img ">
                            <img src="img/left_menu1.png" alt="">
                        </p>
                        <p class="img_dis">
                            <img src="img/left_menu1_sel.png" alt="">
                        </p>
                        <p class="menu_txt">
                            消息
                        </p>
                    </div>
                </a>
                <a href="index.html">
                    <div class="menu_li ">
                        <p class="menu_img ">
                            <img src="img/left_menu2.png" alt="">
                        </p>
                        <p class="img_dis">
                            <img src="img/left_menu2_sel.png" alt="">
                        </p>
                        <p class="menu_txt">
                            群聊
                        </p>
                    </div>
                </a>
                <a href="fenzu.html">
                    <div class="menu_li ">
                        <p class="menu_img ">
                            <img src="img/fenzu.png" alt="">
                        </p>
                        <p class="img_dis">
                            <img src="img/fenzu_sel.png" alt="">
                        </p>
                        <p class="menu_txt">
                            分组
                        </p>
                    </div>
                </a>
                <a href="file.html">
                    <div class="menu_li menu_sel">
                        <p class="menu_img ">
                            <img src="img/left_menu3.png" alt="">
                        </p>
                        <p class="img_dis">
                            <img src="img/left_menu3_sel.png" alt="">
                        </p>
                        <p class="menu_txt">
                            文件
                        </p>
                    </div>
                </a>
            </div>
            <div class="menus_bot">
                <div class="menu_li ">
                    <p class="menu_img ">
                        <img src="img/set.png" alt="">
                    </p>
                    <p class="img_dis">
                        <img src="img/set_sel.png" alt="">
                    </p>
                    <p class="menu_txt">
                        设置
                    </p>
                </div>
            </div>

        </div>
        <div class="chart_l_c fl">
            <div class="member_bot">
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">聊天</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我发送的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">我接收的文件</div>
                </div>
                <div class="file_list outer">
                    <div class="file_img fl">
                        <img src="img/input_file.png" alt="">
                    </div>
                    <div class="file_txt fl">发送失败</div>
                </div>
            </div>
        </div>
        <div class="chart_r">
            <div class="file_lists">
                <div class="file_input">
                    <div class="select">
                        <div class="search_left fl">
                            <div class="search_icon ">
                                <img src="img/search_icon.png" alt="" id="search_input_img"/>
                            </div>
                        </div>
                        <div class="search_input fl" >
                            <input type="text" placeholder="搜索">
                            <a href=""><img src="img/add_search.png" alt="" /></a>
                        </div>
                        <div class="select_hide">
                            <p onclick="img_chosed()"><img src="img/file_down1.png" alt="">&nbsp;&nbsp;图片</p>
                            <p onclick="txt_chosed()"><img src="img/file_down2.png" alt="" >&nbsp;&nbsp;文本</p>
                            <p onclick="all_chosed()"><img src="img/search_icon.png" alt="" >&nbsp;&nbsp;所有</p>
                        </div>
                    </div>
                </div>
                <div class="file_table">
                    <table>
                        <tr>
                            <th class="t1">文件名</th>
                            <th class="t2">创建时间</th>
                            <th class="t3">创建者</th>
                            <th class="t4"></th>
                        </tr>

                        <tr style="position: relative">
                            <td>
                                <img src="img/file_img.png" alt=""/> <span>t014106903493028929429.jpg</span>
                            </td>
                            <td>17:12</td>
                            <td>ice</td>
                            <td>
                                <span class="img"><img src="img/cen_menu.png" alt=""/></span>
                            </td>
                        </tr>

                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
<script type="text/javascript">


    /*搜索菜单*/

    $(".select .search_icon").click(function (ev) {
        var oEvent=ev||event;
        $(".select_hide").show();
        $(document).one("click", function(){
            //任意位置点击隐藏
            $(".select_hide").hide();
        });
        ev.stopPropagation();
    });
    $(".select_hide").on("click", function(e){
        //点击带单时不隐藏
        e.stopPropagation();
    });
    $(".select_hide").hover(function () {
        $(".select_hide").show();
    }, function () {
        $(".select_hide").hide();
    });
    //选择图片类型
    function img_chosed() {
        $("#search_input_img").attr("src","img/file_down1.png");
    }
    function txt_chosed() {
        $("#search_input_img").attr("src","img/file_down2.png");
    }
    function all_chosed() {
        $("#search_input_img").attr("src","img/search_icon.png");
    }

    /*顶部右上角菜单*/
    $("#menu").on('click', function (ev) {
        $("#menu_hide").toggle();
        $(document).one("click", function () {
            //任意位置点击隐藏
            $("#menu_hide").hide();
        });
        ev.stopPropagation();
    });
    $("#menu_hide").on('click',function (e) {
        e.stopPropagation();
    })



    $(".file_table .img").on('click', function (ev) {
        var oEvent=ev||event;
        $("#down_file").toggle();
        if(oEvent.screenY<760){
            $("#down_file").css("left",oEvent.screenX-150+"px").css("top",oEvent.screenY-70+"px");
        }
        else {
            var btn_height=$(document).height()-oEvent.screenY;
            console.log('btn_height',btn_height);
            $("#down_file").css("left",oEvent.screenX+"px").css("bottom",btn_height+70+"px");
        }
        $(document).one("click", function(){
            //任意位置点击隐藏
            $("#down_file").hide();
        });
        ev.stopPropagation();
    });

    $("#down_file").on("click", function(e){
        //点击带单时不隐藏
        e.stopPropagation();
    });

</script>